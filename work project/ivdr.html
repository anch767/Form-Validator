<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVDR</title>
    <style>
        body{
            background-color: rgb(25, 26, 35);
        }
        button {
            margin: 1px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div>
        <label for="case"></label>
        <input type="text" id="caseId" name="Case" placeholder="Case Defense">
        <button id="copyCase" onclick="f_case()">Crush/DVT Alg</button>
        <button onclick="paste_case()">⇦</button>
                
    </div>
    <div>
        <input type="text" name="CHName" id="CH_name">
        <button>CH Name: </button> 
        <button onclick="paste_name()">⇦</button>
    </div>
    <div>
        <input type="text" name="scanReq" id="scan_req">  
        <button id="scan_req" onclick="f_scanReq()">Scan request: </button>
        <button onclick="paste_scanReq()">⇦</button>
    </div>
    <div>
        <input type="text" name="acctID" id="acct_id">  
        <button id="acct_ID" onclick="f_acctID()">Acct ID: </button> 
        <button onclick="paste_acctID()">⇦</button>
    </div>

    <button id="noRA" onclick="f_noRa()" >No RA</button> 
    <button id="RA" onclick="f_RA()" >RA </button> <br>
    <button id="noVS" onclick="f_noVs()" >No VS</button> 
    <button id="VS" onclick="f_VS()" >VS </button> <br>

    <div>
        <textarea name="" id="" cols="30" rows="10" placeholder="Notes Here..."></textarea>
        <button id="add-to=notes">add</button>
    </div>

    <script type="text/javascript">

        let ra = document.getElementById("RA");
        let noRa = document.getElementById("noRA");
        let vs = document.getElementById("VS");
        let noVs = document.getElementById("noVS");
        
        const btn_case = document.getElementById("copyCase");
        const btn_scan = document.getElementById("scan_req");
        const btn_acctID = document.getElementById("acct_ID");

        const checkMark = " &#10003"

        const case_input = document.getElementById("caseId");
        const case_name = document.getElementById("CH_name");
        const case_scan = document.getElementById("scan_req");
        const case_ID = document.getElementById("acct_id");

        //--------------------------------------------------
        // Copying data from input field
        function paste_here(x){
            navigator.clipboard.readText()
            .then(text => x.value = text)
            .catch(err => console.error('Failed to read clipboard contents: ', err));
        }

                // To paste selections to the input field
                function paste_case(){
                paste_here(case_input)
                };
                function paste_name(){
                    paste_here(case_name)
                };
                function paste_scanReq(){
                    paste_here(case_scan)
                };
                function paste_acctID(){
                    paste_here(case_ID)
                };

        // function f_createElement(ele, typ, plh){
        //     ele.type = typ;
        //     ele.placeholder = plh;
        //     document.body.appendChild(ele)
        // }

        function createInput() {
                noVs.remove();
                const input = document.createElement("input");
                input.type = "text";
                input.placeholder = "Enter your text";
                //vs.append(input)
                // vs.appendChild(document.createElement("input"))
                //input.appendChild(vs)
                vs.insertAdjacentElement('afterend', input)
            }

        //--------------------------------------------------       


        // TODO: This should be resolved - the value should be copied diretly when the function f_case is pressed 
        function f_case(){
            const inputText = case_input.value 
            navigator.clipboard.writeText("Crush/DVT Alg: Servicing need - " + inputText)
            btn_case.innerHTML = "Crush/DVT Alg" + checkMark
        }
        // function f_case(){

        // }
        
        function f_scanReq(){
            const inputText = case_scan.value 
            navigator.clipboard.writeText("Scan request: " + inputText)
            btn_scan.innerHTML = "Scan request:" + checkMark
        }

        function f_acctID(){
            const inputText = case_ID.value 
            navigator.clipboard.writeText("7560AI" + inputText)
            btn_acctID.innerHTML = "Acct ID:" + checkMark
        }


        //--------------------------------------------------   
        function f_RA(){
            noRa.remove();
            navigator.clipboard.writeText("RA Located");
            ra.innerHTML = "RA " + checkMark;
        }

        function f_noRa(){
            ra.remove();
            navigator.clipboard.writeText("No RA Located");
            noRa.innerHTML = "No RA " + checkMark;
        }

        // function f_VS(){
        //     noVs.remove();
        //     navigator.clipboard.writeText("Victim Statement Located");
        //     vs.innerHTML = "VS " + checkMark;
        //     // f_createElement("input", "text", "Enter your text ")
        //     createInput()
        // }
        
        VS.addEventListener('click', createInput, {once: true})
    


        

        function f_noVs(){
            vs.remove();
            navigator.clipboard.writeText("No Victim Statement");
            noVs.innerHTML = "No VS " + checkMark;
            // let btn = document.createElement("button");
            // btn.innerHTML += "Submit";
            // btn.type = "submit";
            // btn.name = "formBtn";
            // document.body.appendChild(btn);
        }

        //------------------------  -------------------------  

    </script>
</body>
</html>
